# 12기 대전2반 B208 박성근 

## 부트캠프 주간
- 아이디어 해커톤
- JPA 공부 (강의)

## 1주차 
1. 아이디어 회의
2. 아이디어 확정
3. 요구사항 정의서 작성
4. BackEnd 개발대비 JPA 학습

## JPA 학습 자료 요약
### 목차
1. [JPA 소개](#1-jpa-소개)
2. [JPA 시작](#2-jpa-시작)
3. [영속성 관리](#3-영속성-관리)
4. [엔티티 매핑](#4-엔티티-매핑)
5. [연관관계 매핑 기초](#5-연관관계-매핑-기초)

---

### 1. JPA 소개
- **JPA란?**
  - Java 진영의 ORM(Object-Relational Mapping) 기술 표준.
  - 객체와 관계형 데이터베이스 간의 패러다임 불일치를 해결.
  - Hibernate, EclipseLink 등 구현체를 통해 사용.

- **주요 특징**
  - 생산성: SQL 없이 객체 중심 개발 가능.
  - 유지보수성: 필드 변경 시 JPA가 SQL 자동 처리.
  - 성능 최적화: 1차 캐시, 쓰기 지연, 지연 로딩 지원.

- **장점**
  - 객체 지향 설계 반영 가능.
  - DB 벤더 독립적.
  - 표준 API 제공.

---

### 2. JPA 시작
- **프로젝트 설정**
  - H2 데이터베이스 및 Maven 사용.
  - JPA 설정 파일 `persistence.xml`을 통해 데이터베이스 연결 및 매핑 설정.

- **객체와 테이블 매핑**
  - `@Entity`, `@Table`을 사용해 클래스와 테이블 연결.
  - `@Id`로 기본 키 지정.

- **JPQL(Java Persistence Query Language)**
  - 객체를 대상으로 데이터를 검색하는 쿼리 언어.
  - SQL과 유사한 문법 제공.

---

### 3. 영속성 관리
- **영속성 컨텍스트**
  - 엔티티를 영구적으로 저장하고 관리하는 환경.
  - 1차 캐시, 동일성 보장, 쓰기 지연, 변경 감지, 지연 로딩 등 다양한 기능 제공.

- **엔티티 생명주기**
  1. 비영속: 영속성 컨텍스트와 관계없는 상태.
  2. 영속: 영속성 컨텍스트에 저장된 상태.
  3. 준영속: 영속성 컨텍스트에서 분리된 상태.
  4. 삭제: 엔티티가 삭제된 상태.

- **플러시(Flush)**
  - 영속성 컨텍스트의 변경 내용을 DB에 동기화.
  - 트랜잭션 커밋, JPQL 실행 시 자동 호출.

---

### 4. 엔티티 매핑
- **기본 매핑**
  - `@Entity`: 클래스와 테이블 매핑.
  - `@Column`: 필드와 컬럼 매핑.
  - `@Id`와 `@GeneratedValue`: 기본 키와 키 생성 전략 지정.

- **데이터베이스 스키마 자동 생성**
  - 개발 환경에서 DDL 자동 생성 (`create`, `update` 등).
  - 운영 환경에서는 `validate` 또는 `none` 권장.

- **기타 매핑 어노테이션**
  - `@Enumerated`: Enum 타입 매핑.
  - `@Lob`: 대용량 데이터(BLOB, CLOB) 매핑.
  - `@Transient`: 매핑에서 제외.

---

### 5. 연관관계 매핑 기초
- **연관관계 매핑의 핵심**
  - 객체는 참조를, 테이블은 외래 키를 통해 연관관계 설정.
  - 연관관계의 주인 설정이 중요 (외래 키 관리 주체).

- **단방향 vs 양방향**
  - 단방향: 한쪽에서만 참조 가능.
  - 양방향: 양쪽에서 참조 가능. 주인은 외래 키를 관리하고, 비주인은 조회만 가능.

- **매핑 예제**
  - 다대일: `@ManyToOne`
  - 일대다: `@OneToMany`
  - 일대일: `@OneToOne`
  - 다대다: `@ManyToMany` (실무에서 사용 비권장).